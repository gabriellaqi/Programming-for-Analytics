def guess_display(random_word, underscore, letter_input):
    display = ""
    for j in range(len(random_word)):
        if letter_input.lower() == random_word[j]:
            display = display + letter_input.lower()
        else:
            display = display + underscore[j]
    return display

import random

words_list = []
words = open("words.txt", "r")
word = words.readline().rstrip()

while word != "":
    words_list.append(word)
    word = words.readline().rstrip()
random_word = random.choice(words_list)
underscore = "-" * len(random_word)
guess_set = set()

for i in range(7, -1, -1):
    print("The word you are going to guess is")
    print(underscore)
    letter_input = input("Enter A Letter: ")
    while len(letter_input) != 1:
        print("You can only guess one letter at a time!\n")
        letter_input = input("Enter A Letter: ")
    if letter_input in guess_set:
        print("You cannot guess the letter you have guessed before!\n")
        letter_input = input("Enter A Letter: ")
    if letter_input.lower() in random_word: 
        print("You have already entered a given letter!\n")
        underscore = guess_display(random_word, underscore, letter_input)
        guess_set.add(letter_input.lower())
        if guess_set == set(random_word):
            print("You won!\n")
            break
        else:    
            print("You still have", i, "attempts left!\n")
    else:
        print("You have not entered a given letter.\n")
        print("You still have", i, "attempts left!\n")
        
if guess_set != set(random_word):
    print("You lose. The word you were trying to guess is", random_word)
